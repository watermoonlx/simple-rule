## 创建规则

创建一个规则类主要有以下两步：
1. 继承`Rule<T>`抽象类，实现抽象方法`check(T target)`。这里的类型参数`T`代表待检查的目标类型。
2. 在类上添加注解`@Rule.Descriptor()`，提供该规则类的描述信息。

例：
```java
@Rule.Descriptor("订单总金额必须小于1000")
public class AmountMustLessThan1000 extends Rule<Order> {
    @Override
    public RuleCheckResult check(Order target) {
        if (target.getAmount() < 1000) {
            return this.pass();
        } else {
            return this.error(String.format("订单总金额必须小于1000，当前金额为：%d。", target.getAmount()));
        }
    }
}
```

`@Rule.Descriptor()`注解的作用主要是指定规则类的`description`字段值。另外也可以用它来指定规则类的`name`字段值，如下：
```java
@Rule.Descriptor(name = "金额上限", value = "订单总金额必须小于1000")
public class AmountMustLessThan1000 extends Rule<Order> {
    ...
```

既然是字段值，那么也可以选择不使用注解，直接赋值：
```java
public class AmountMustLessThan1000 extends Rule<Order> {

    public AmountMustLessThan1000(){
        this.setName("金额上限");
        this.setDescription("订单总金额必须小于1000");
    }

    ...
}
```
不过推荐使用注解，因为后续可能会进一步扩展注解的功能。

注意，`name`字段需确保全局唯一。如果不主动指定，那么默认为当前规则类的类名。

## 返回检查结果

`check`方法的返回类型是`RuleCheckResult`。为了快速创建该对象，`Rule<T>`中提供了以下一些辅助方法：

**检查通过**：
```java
RuleCheckResult pass();
RuleCheckResult pass(String message);
RuleCheckResult pass(String message, Object payload);
```

**检查未通过**：
```java
RuleCheckResult error(String message);
RuleCheckResult error(String message, Object payload);
```

**产生警告**：
```java
RuleCheckResult warning(String message);
RuleCheckResult warning(String message, Object payload);
```